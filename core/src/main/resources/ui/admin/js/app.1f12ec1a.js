(function(t){function e(e){for(var n,o,l=e[0],i=e[1],c=e[2],d=0,p=[];d<l.length;d++)o=l[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/jemo/admin/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("28dd"),s=a("bb71");a("da64");n["a"].use(s["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("navbar"),a("v-content",{staticClass:"mx-4 mb-4"},[a("keep-alive",[a("router-view")],1)],1)],1)},l=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"indigo",attrs:{app:"",dark:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("Eclipse Jemo")]),a("span",{staticClass:"font-weight-light mx-2"},[t._v("Admin UI")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",href:"https://www.eclipse.org/jemo/",target:"_blank"}},[a("span",{staticClass:"mr-8"},[t._v("Project page")])])],1)},c=[],u=a("2877"),d=a("6544"),p=a.n(d),v=a("8336"),h=a("9910"),f=a("71d9"),m=a("2a7f"),g={},b=Object(u["a"])(g,i,c,!1,null,null,null),_=b.exports;p()(b,{VBtn:v["a"],VSpacer:h["a"],VToolbar:f["a"],VToolbarTitle:m["a"]});var x={name:"App",components:{Navbar:_}},y=x,w=a("7496"),C=a("549c"),V=Object(u["a"])(y,o,l,!1,null,null,null),k=V.exports;p()(V,{VApp:w["a"],VContent:C["a"]});var j=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isAuthorised?a("div",[a("v-spacer"),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-card",{staticClass:"text-xs-left ma-3",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v("Admin Panel")])])]),a("v-card-text",[t._v("\n                Monitor the plugins that are currently deployed. You can de-activate and re-active plugin versions\n                or even delete (undeploy) them.\n          ")]),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{to:{name:"plugins",params:{headers:this.headers}},color:"primary"}},[t._v("\n                    Admin Panel\n            ")])],1)],1),a("v-card",{staticClass:"text-xs-left ma-3",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v("CI/CD")])])]),a("v-card-text",[t._v("\n              Deploy Jemo plugins by pointing to a github repository.\n              You need to have "),a("a",{attrs:{href:"https://git-scm.com/",target:"_blank"}},[t._v("git")]),t._v("\n              and "),a("a",{attrs:{href:"https://maven.apache.org/",target:"_blank"}},[t._v("mvn")]),t._v(" installed and on your Path to use this functionality.\n              For an example of a Jemo plugin see the "),a("a",{attrs:{href:"https://github.com/eclipse/jemo/tree/master/demos/jemo-trader-app",target:"_blank"}},[t._v("jemo-trader-app")]),t._v(".\n            ")]),a("v-card-actions",[a("v-btn",{staticClass:"mx-2",attrs:{to:{name:"cicd",params:{headers:this.headers}},color:"secondary"}},[t._v("\n                    CI/CD\n                ")])],1)],1)],1)],1)],1):a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Jemo username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Jemo password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-btn",{staticClass:"mx-4",attrs:{color:"primary"},on:{click:t.authorise}},[t._v("Submit")])],1)],1)],1)],1)},D=[],A={data:function(){return{isAuthorised:!1,username:"system.administrator@jemo.eclipse.org",password:null,headers:null}},methods:{authorise:function(){var t=this;this.headers={Authorization:"Basic "+window.btoa(this.username+":"+this.password)},this.$http.post("auth",{},{headers:this.headers}).then(function(e){console.log(e),t.isAuthorised=!0},function(t){console.log(t),alert(t.data?t.data:"Wrong username or password.")})}}},S=A,I=a("b0af"),O=a("99d9"),T=a("12b2"),$=a("a523"),E=a("0e8f"),F=a("4bd4"),J=a("a722"),U=a("2677"),B=Object(u["a"])(S,P,D,!1,null,null,null),M=B.exports;p()(B,{VBtn:v["a"],VCard:I["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:T["a"],VContainer:$["a"],VFlex:E["a"],VForm:F["a"],VLayout:J["a"],VSpacer:h["a"],VTextField:U["a"]});var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),a("div",{staticClass:"d-flex justify-between align-center mb-3"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.getPlugins}},[t._v("Refresh")]),a("v-btn",{attrs:{color:"secondary"},on:{click:t.expandAll}},[t._v("Expand All")]),a("v-btn",{attrs:{color:"green"},on:{click:t.colapseAll}},[t._v("Collapse All")])],1),a("v-expansion-panel",{attrs:{expand:""},model:{value:t.expand,callback:function(e){t.expand=e},expression:"expand"}},t._l(t.plugins,function(e,n){return a("v-expansion-panel-content",{key:n,scopedSlots:t._u([{key:"header",fn:function(){return[a("div",[a("strong",[t._v("id:")]),t._v(" "+t._s(e.pluginInfo.id))]),a("div",[a("strong",[t._v("name:")]),t._v(" "+t._s(e.pluginInfo.name))]),a("div",[a("strong",[t._v("version:")]),t._v(" "+t._s(e.pluginInfo.version))]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(a){return a.stopPropagation(),t.changePluginVersionStatus(e.pluginInfo.id,e.pluginInfo.version,e.metaData.enabled)}}},[t._v(t._s(e.metaData.enabled?"Deactivate":"Activate")+"\n                  ")]),a("v-btn",{attrs:{color:"red",flat:""},on:{click:function(a){return a.stopPropagation(),t.deletePluginVersion(e,n)}}},[t._v("Delete")])]},proxy:!0}],null,!0)},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Endpoints",align:"left",sortable:!1,value:"endpoint"}],items:Object.keys(e.metaData.endpoints),"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(n){return[a("td",[t._v(t._s(n.item))]),a("td",[t._v(t._s(e.metaData.endpoints[n.item]))])]}}],null,!0)}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Batches",align:"left",sortable:!1,value:"batch"}],items:e.metaData.batches,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item))])]}}],null,!0)}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Events",align:"left",sortable:!1,value:"event"}],items:e.metaData.events,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item))])]}}],null,!0)}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:[{text:"Fixed Processes",align:"left",sortable:!1,value:"event"}],items:e.metaData.fixed,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item))])]}}],null,!0)})],1)}),1)],1)},W=[],Y=(a("ac6a"),a("75fc")),z=(a("7f7f"),{data:function(){return{expand:[],plugins:null,headers:this.$route.params.headers}},watch:{$route:function(t){"plugins"===t.name&&this.getPlugins()}},created:function(){this.getPlugins()},methods:{getPlugins:function(){var t=this;this.$http.get("plugins",{headers:this.headers}).then(function(e){console.log(e),t.plugins=e.data},function(t){console.log(t),alert(t.data?t.data:"Wrong username or password.")})},expandAll:function(){this.expand=Object(Y["a"])(Array(this.plugins.length).keys()).map(function(){return!0})},colapseAll:function(){this.expand=[]},changePluginVersionStatus:function(t,e,a){var n=this,r={enabled:!a};this.$http.patch("plugins/"+t+"/"+e,r,{headers:this.headers}).then(function(t){console.log(t),200===t.status&&(n.plugins=n.plugins.map(function(e){return e.metaData.id===t.data.metaData.id?t.data:e}))},function(t){alert(t.data),console.log(t)})},deletePluginVersion:function(t,e){var a=this;this.$http.delete("plugins/"+t.pluginInfo.id+"/"+t.pluginInfo.version,{headers:this.headers}).then(function(t){console.log(t),204===t.status&&a.plugins.splice(e,1)},function(t){alert(t.data)})}}}),G=z,N=a("8fea"),R=a("cd55"),q=a("49e2"),H=Object(u["a"])(G,L,W,!1,null,null,null),K=H.exports;p()(H,{VBtn:v["a"],VDataTable:N["a"],VExpansionPanel:R["a"],VExpansionPanelContent:q["a"],VSpacer:h["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"grid-list-md":""}},[t.response||t.error?t._e():a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm10:"",md9:"",lg7:""}},[a("v-card",{staticClass:"text-xs-center ma-3",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[t._v("\n                              Select a Github repository with the code\n                              of a Jemo plugin to deploy from.\n                          ")])])]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"mx-4"},[a("v-text-field",{attrs:{label:"repoUrl"},model:{value:t.repoUrl,callback:function(e){t.repoUrl=e},expression:"repoUrl"}}),a("v-text-field",{attrs:{label:"branch"},model:{value:t.branch,callback:function(e){t.branch=e},expression:"branch"}}),a("v-text-field",{attrs:{label:"subDir"},model:{value:t.subDir,callback:function(e){t.subDir=e},expression:"subDir"}}),a("v-text-field",{attrs:{label:"pluginId"},model:{value:t.pluginId,callback:function(e){t.pluginId=e},expression:"pluginId"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{loading:t.loading,color:"primary"},on:{click:t.deploy}},[t._v("\n                          Submit\n                      ")])],1)],1)],1)],1)],1),t.response?a("div",[a("h3",[t._v(t._s(t.response.msg))]),a("br"),t._v("\n    The following logs were produced:\n    "),a("br"),a("br"),a("pre",[t._v(t._s(t.response.logs))])]):t._e(),t.error?a("div",[a("h3",[t._v(t._s(t.error.msg))]),t.error.logs?a("div",[a("br"),t._v("\n      The following logs were produced:\n      "),a("br"),a("br"),a("pre",[t._v(t._s(t.error.logs))])]):t._e()]):t._e()],1)},X=[],Z={data:function(){return{headers:this.$route.params.headers,service:"git",repoUrl:null,branch:null,subDir:null,pluginId:null,loading:!1,response:null,error:null}},watch:{$route:function(t){"cicd"===t.name&&(this.loading=!1,this.response=null,this.error=null)}},methods:{deploy:function(){var t=this;this.loading=!0,this.response=null,this.error=null;var e={service:this.service,repoUrl:this.repoUrl,branch:this.branch,subDir:this.subDir,pluginId:this.pluginId};this.$http.post("cicd",e,{headers:this.headers}).then(function(e){console.log(e),t.loading=!1,t.response=e.data},function(e){e.data.logs?(console.log(e),t.error=e.data):alert(e.data.msg),t.loading=!1})}}},tt=Z,et=Object(u["a"])(tt,Q,X,!1,null,null,null),at=et.exports;p()(et,{VBtn:v["a"],VCard:I["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:T["a"],VContainer:$["a"],VFlex:E["a"],VForm:F["a"],VLayout:J["a"],VTextField:U["a"]}),n["a"].use(j["a"]);var nt=new j["a"]({routes:[{path:"/",name:"home",component:M},{path:"/plugins",name:"plugins",component:K},{path:"/cicd",name:"cicd",component:at},{path:"*",redirect:{name:"home"}}]});n["a"].config.productionTip=!1,n["a"].use(r["a"]),n["a"].http.options.root="/jemo/admin",new n["a"]({router:nt,render:function(t){return t(k)}}).$mount("#app")}});
//# sourceMappingURL=app.1f12ec1a.js.map